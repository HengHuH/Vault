2022-10-18, 17:02
Status: #reference 
Tags:

---
帧同步方案的优点和适用性
-   单机和联机开发区别比较小
-   服务器负载相对较低
-   基础框架比较完善，可以专注于玩法开发
-   完善的debug功能，便于排查问题
-   适用于固定玩家数量和固定战斗时长的玩法
-   需要关注一致性问题

一致性
	定点数，有序容器，帧定时器

开发和线上运行时的一致性校验和调试
	黑盒系统，属性系统

框架结构
![[vtb-1.png]]
服务端，客户端，验证端
BlackBox 强一致性逻辑核心

## 基础功能

-   提供了功能丰富的定点数库
-   使用 compact_dict, ordered_set 有序容器
-   提供了严格时序的 logic entity 管理，logic_entity 只会在黑盒中修改，可以被表现层读取，
-   基于帧号的定点数 timer 系统
-   提供了 proximity 系统
-   框架属性和快照
-   补帧、追帧、断线重连后自动恢复现场
-   动态调整帧率和倍速
-   暂停和软暂停
-   多版本数据管理和热更
-   调试功能

## 为什么是帧同步？

![[vtb-2.png]]

## 果真如此吗？

![[vtb-3.png]]

## 实践

每一个新的功能需要拆解成一个一个独立的测试环境，单独验收，批量跑测，调参
每一个新的功能保证有一个测试环境去先行，这样才能保证组成为一个复杂的系统时，底盘是稳固的
一键报bug，在游戏内一键保存上传bug环境，易协作建单，指派给xxx (提高生产力）

